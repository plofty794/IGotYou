import{u as v,j as h,k as e,af as fe,ag as je,a0 as ge,I as pe,ah as be,M as we,Q as L,ab as Ne,a5 as $,L as se,P as J,a4 as G}from"./index-75a621e8.js";import{a as k,u as A,D as V,a6 as E,p as P,q as M,r as _,B as d,t as T,ax as ye,ay as ve,az as ke,aA as y,aB as S,aC as O,aD as q,$ as Ce,ad as W,V as Fe,W as Se,Y as Ae,aE as Ve,aF as Ee,aG as Pe,aH as Ue,aI as ze,aJ as $e,aK as Ie,i as Q,aL as te,aM as ae,j as w,aN as Le,ao as re,ap as le,aq as ne,ar as ie,as as oe,at as I,au as ce,av as de,aw as Me,aO as _e,aP as Te,aQ as Oe,aR as qe,aS as We,aT as Ye,aU as Be,aV as Re,S as U,L as me,aW as Ge,aX as He,am as Qe,aY as Ze,m as Ke,C,d as F,ag as Je,ah as Xe,ai as De,g as X,aZ as D,f as z,h as H,a_ as es}from"./App-2eec01e5.js";function ss(){var f,m,u,o,x,b;const s=v(),{mutate:n}=k(),[a,i]=h.useState(""),[c,j]=h.useState(),[t,l]=h.useState(""),{id:g}=A(),r=s.getQueryData(["profile",g]);h.useEffect(()=>{navigator.geolocation.getCurrentPosition(N=>j(N.coords))},[]);function p(N){if(N.preventDefault(),!a)return l("Invalid address (eg. 4010 for Pila, 4010 Laguna, Philippines)");n({address:a}),l("")}return e.jsxs(V,{children:[e.jsxs(E,{className:`w-full border font-medium hover:bg-[#e9e9e9] ${(f=r==null?void 0:r.data)!=null&&f.user.address?"text-xs":"text-sm"}
           flex items-center justify-start rounded py-8 pl-4 pr-6 shadow-md`,children:[e.jsx("span",{className:"mr-2",children:e.jsx(fe,{color:"black",width:25,height:25})}),e.jsx("p",{className:"text-gray-600",children:(m=r==null?void 0:r.data)!=null&&m.user.address?`Where I live: ${(u=r==null?void 0:r.data)==null?void 0:u.user.address}`:"Where I live"})]}),e.jsxs(P,{className:"p-8",children:[e.jsx(M,{children:e.jsx(_,{className:"text-xl text-[#222222]",children:(o=r==null?void 0:r.data)!=null&&o.user.address?"Current address":"Where do you live?"})}),(x=r==null?void 0:r.data)!=null&&x.user.address?e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"mb-2 text-sm font-medium",children:(b=r==null?void 0:r.data)==null?void 0:b.user.address}),e.jsx("div",{className:"flex items-center gap-2 pt-2",children:e.jsx(d,{onClick:()=>{i(""),n({address:""})},className:"rounded-full bg-[#222222] font-medium text-white",size:"lg",variant:"secondary",children:"Delete"})})]}):e.jsxs("form",{onSubmit:p,className:"mt-4",children:[e.jsx(T,{className:"text-sm font-medium",htmlFor:"address",children:"Your current address"}),e.jsxs(ye,{apiKey:ve,children:[e.jsx("div",{className:"geo mb-1",children:e.jsx(ke,{biasByProximity:{lat:(c==null?void 0:c.latitude)??0,lon:(c==null?void 0:c.longitude)??0},limit:5,filterByCountryCode:["ph"],allowNonVerifiedHouseNumber:!1,skipIcons:!0,addDetails:!0,allowNonVerifiedStreet:!1,postprocessHook:N=>(i(`${N.properties.formatted}, ${N.properties.country_code.toUpperCase()}`),N.properties.formatted)})}),t&&e.jsx(y,{message:t})]}),e.jsx("div",{className:"flex items-center gap-2 pt-2",children:e.jsx(d,{className:"rounded-full bg-[#222222] font-medium text-white",size:"lg",variant:"secondary",children:"Save"})})]})]})]})}const ts=S.object({funFact:S.string().min(1,{message:"This field is required"}).max(25,{message:"Just write a short fact about you at least 25 characters"})});function as(){var g,r,p,f,m,u;const{formState:{errors:s},handleSubmit:n,register:a}=O({defaultValues:{funFact:""},resolver:q(ts)}),i=v(),{mutate:c}=k(),{id:j}=A(),t=i.getQueryData(["profile",j]);function l(o){c({funFact:o.funFact})}return e.jsxs(V,{children:[e.jsxs(E,{className:`w-full border font-medium hover:bg-[#e9e9e9] ${(g=t==null?void 0:t.data)!=null&&g.user.funFact?"text-xs":"text-sm"}
           flex items-center justify-start rounded py-8 pl-4 pr-6 shadow-md`,children:[e.jsx("span",{className:"mr-2",children:e.jsx(je,{color:"black",width:25,height:25})}),e.jsx("p",{className:"text-zinc-500",children:(r=t==null?void 0:t.data)!=null&&r.user.funFact?`Fun Fact about you: ${(p=t==null?void 0:t.data)==null?void 0:p.user.funFact}`:"My Fun Fact"})]}),e.jsxs(P,{className:"p-8",children:[e.jsx(M,{children:e.jsx(_,{className:"text-xl text-[#222222]",children:(f=t==null?void 0:t.data)!=null&&f.user.funFact?"Fun fact about you":"What's a fun fact about you?"})}),(m=t==null?void 0:t.data)!=null&&m.user.funFact?e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"mb-2 text-sm font-medium",children:(u=t==null?void 0:t.data)==null?void 0:u.user.funFact}),e.jsx("div",{className:"flex items-center gap-2 pt-2",children:e.jsx(d,{onClick:()=>c({funFact:""}),className:"rounded-full bg-[#222222] font-medium text-white",size:"lg",variant:"secondary",children:"Delete"})})]}):e.jsxs("form",{onSubmit:n(l),className:"mt-4",children:[e.jsx(Ce,{className:"text-sm font-medium",htmlFor:"funFact",children:"Your Fun Fact"}),e.jsx(W,{autoComplete:"off",...a("funFact"),type:"text",id:"funFact",className:"mb-2"}),s.funFact&&e.jsx(y,{message:s.funFact.message}),e.jsx("div",{className:"flex items-center gap-2 pt-2",children:e.jsx(d,{className:"rounded-full bg-[#222222] font-medium text-white",size:"lg",variant:"secondary",children:"Save"})})]})]})]})}const ee=["High School Diploma","Associate's Degree","Bachelor's Degree","Master's Degree","Doctorate","Professional License","No Formal Education"];function rs(){var r,p,f,m,u,o;const[s,n]=h.useState(!1),[a,i]=h.useState(""),c=v(),{mutate:j}=k(),{id:t}=A(),l=c.getQueryData(["profile",t]);function g(x){x.preventDefault(),j({educationalAttainment:a})}return e.jsxs(V,{children:[e.jsxs(E,{className:`border font-medium hover:bg-[#e9e9e9] ${(r=l==null?void 0:l.data)!=null&&r.user.educationalAttainment?"text-xs":"text-sm"}
          flex items-center rounded py-8 pl-4 pr-6 shadow-md`,children:[e.jsx("span",{className:"mr-2",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"black",className:"h-6 w-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"})})}),e.jsx("p",{className:"capitalize text-gray-600",children:(p=l==null?void 0:l.data)!=null&&p.user.educationalAttainment?`Educational attainment: ${(f=l==null?void 0:l.data)==null?void 0:f.user.educationalAttainment}`:"Educational attainment"})]}),e.jsxs(P,{className:"gap-2 p-8",children:[e.jsx(M,{children:e.jsx(_,{className:"text-lg font-semibold",children:(m=l==null?void 0:l.data)!=null&&m.user.educationalAttainment?"Your highest educational attainment":"What is your highest level of education completed?"})}),(u=l==null?void 0:l.data)!=null&&u.user.educationalAttainment?e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"text-sm font-semibold capitalize underline",children:(o=l==null?void 0:l.data)==null?void 0:o.user.educationalAttainment}),e.jsx("div",{className:"flex items-center gap-2 pt-2",children:e.jsx(d,{onClick:()=>{i(""),j({educationalAttainment:""})},className:"rounded-full bg-gray-950 font-medium",size:"lg",children:"Delete"})})]}):e.jsxs("form",{onSubmit:g,className:"flex flex-col",children:[e.jsxs(Fe,{open:s,onOpenChange:n,children:[e.jsx(Se,{asChild:!0,children:e.jsxs(d,{variant:"outline",role:"combobox","aria-expanded":s,className:"w-full gap-2 font-medium",children:[a?ee.find(x=>x.toLowerCase()===a.toLowerCase()):"Select attainment",e.jsx(ge,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(Ae,{className:"p-0",children:e.jsxs(Ve,{children:[e.jsx(Ee,{placeholder:"Search attainment...",className:"h-9"}),e.jsx(Pe,{children:"No attainment found."}),e.jsx(Ue,{children:ee.map(x=>e.jsxs(ze,{value:x,onSelect:b=>{i(b.toLowerCase()===a.toLowerCase()?"":b),n(!1)},children:[x,e.jsx(pe,{className:` ml-auto h-4 w-4
                   ${a.toLowerCase()===x.toLowerCase()?"opacity-100":"opacity-0"}`})]},x))})]})})]}),e.jsx("div",{className:"flex items-center gap-2 pt-2",children:e.jsx(d,{disabled:!a,className:"rounded-full bg-gray-950 font-medium",size:"lg",children:"Save"})})]})]})]})}const ls=S.object({work:S.string().min(1,{message:"This field is required"}).max(20,{message:"Just write a short description about your work"})});function ns(){var g,r,p,f,m,u;const{formState:{errors:s},handleSubmit:n,register:a}=O({defaultValues:{work:""},resolver:q(ls)}),i=v(),{mutate:c}=k(),{id:j}=A(),t=i.getQueryData(["profile",j]);function l(o){c({work:o.work})}return e.jsxs(V,{children:[e.jsxs(E,{className:`w-full border font-medium hover:bg-[#e9e9e9] ${(g=t==null?void 0:t.data)!=null&&g.user.work?"text-xs":"text-sm"}
           flex items-center justify-start rounded py-8 pl-4 pr-6 shadow-md`,children:[e.jsx("span",{className:"mr-2",children:e.jsx(be,{color:"black",width:25,height:25})}),e.jsx("p",{className:"text-zinc-500",children:(r=t==null?void 0:t.data)!=null&&r.user.work?`My work: ${(p=t==null?void 0:t.data)==null?void 0:p.user.work}`:"My work"})]}),e.jsxs(P,{className:"p-8",children:[e.jsx(M,{children:e.jsx(_,{className:"text-xl text-[#222222]",children:(f=t==null?void 0:t.data)!=null&&f.user.work?"Your current work":"What's your work?"})}),(m=t==null?void 0:t.data)!=null&&m.user.work?e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"mb-2 text-sm font-medium",children:(u=t==null?void 0:t.data)==null?void 0:u.user.work}),e.jsx("div",{className:"flex items-center gap-2 pt-2",children:e.jsx(d,{onClick:()=>c({work:""}),className:"rounded-full bg-[#222222] font-medium text-white",size:"lg",variant:"secondary",children:"Delete"})})]}):e.jsxs("form",{onSubmit:n(l),className:"mt-4",children:[e.jsx(T,{className:"text-sm font-medium",htmlFor:"work",children:"Your work"}),e.jsx(W,{autoComplete:"off",...a("work"),type:"text",id:"work",className:"mb-2"}),s.work&&e.jsx(y,{message:s.work.message}),e.jsx("div",{className:"flex items-center gap-2 pt-2",children:e.jsx(d,{className:"rounded-full bg-[#222222] font-medium text-white",size:"lg",variant:"secondary",children:"Save"})})]})]})]})}function is(){return e.jsxs(e.Fragment,{children:[e.jsx(rs,{}),e.jsx(ns,{}),e.jsx(ss,{}),e.jsx(as,{})]})}const ue=$e,xe=Ie,os=S.object({username:S.string().min(1,{message:"Invalid username"}).min(5,{message:"Username too short"}).max(15,{message:"Username must be at least 15 characters"})});Q.register();function cs({data:s}){var m,u;const[n,a]=h.useState(!1),{mutate:i,isPending:c}=k(),[j,t]=h.useState(""),{register:l,handleSubmit:g,formState:{errors:r},setValue:p}=O({defaultValues:{username:((m=s==null?void 0:s.data)==null?void 0:m.user.username)??""},resolver:q(os)});async function f(o){var b;const{username:x}=o;if(x===((b=s==null?void 0:s.data)==null?void 0:b.user.username))return t("This is already your current username");await ae(w.currentUser,{displayName:x}),i({username:x}),t("")}return e.jsxs(te,{open:n,onOpenChange:o=>a(o),children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx(T,{className:"font-semibold",htmlFor:"username",children:"Username"}),e.jsx("p",{id:"username",className:`mt-2 ${n?"hidden":""}`,children:(u=s==null?void 0:s.data)==null?void 0:u.user.username})]}),e.jsx(ue,{children:e.jsx("span",{className:"text-sm font-medium underline",children:n?"Cancel":"Edit"})})]}),e.jsx("form",{onSubmit:g(f),children:e.jsxs(xe,{children:[e.jsx("span",{className:"text-sm",children:"This is the name on your IGotYou account."}),e.jsx("div",{className:"mt-4 flex gap-2",children:e.jsxs("div",{className:"flex w-full flex-col gap-1",children:[e.jsx(W,{...l("username"),autoFocus:!0,autoComplete:"off",className:"capitalize"}),r.username&&e.jsx(y,{message:r.username.message}),j&&e.jsx(y,{message:j})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{onClick:()=>{t(""),p("username","")},className:"mt-3 w-max rounded-full bg-[#222222] text-xs font-semibold",children:"Clear"}),e.jsx(d,{className:"mt-3 w-max rounded-full bg-[#222222] text-xs font-semibold",children:c?e.jsx("l-dot-pulse",{size:"35",speed:"1.3",color:"white"}):"Save"})]})]})})]})}Q.register();function ds({data:s}){var x,b,N;const n=Le(),{toast:a}=we(),[i,c]=h.useState(!1),{mutate:j,isPending:t}=k(),[l,g]=h.useState(""),r=((x=s==null?void 0:s.data)==null?void 0:x.user.email)&&((b=s==null?void 0:s.data)==null?void 0:b.user.email.replace(/^(\w)+/,`${s.data.user.email[0]}***`)),{register:p,handleSubmit:f,formState:{errors:m},setValue:u}=O({defaultValues:{email:(N=s==null?void 0:s.data)==null?void 0:N.user.email},resolver:q(_e)});async function o(Y){var Z;const{email:B}=Y;if(B===((Z=s==null?void 0:s.data)==null?void 0:Z.user.email))return g("This is already your current email address");try{await Te(w.currentUser,B),j({email:B}),L(e.jsxs("div",{className:"flex w-max gap-2",children:[e.jsx(Ne,{color:"white",className:"inline-block h-6 w-6 animate-spin rounded-full bg-green-500 p-1"}),e.jsx("p",{className:"text-sm font-semibold",children:"Logging out..."})]}),{duration:2e3}),setTimeout(async()=>{await n(),window.location.reload()},3e3)}catch(he){const K=he,R=(K.code.split("/")[1].slice(0,1).toUpperCase()+K.code.split("/")[1].slice(1)).split("-").join(" ");R==="Requires recent login"?L("Uh oh!",{description:R+". Re-login your account.",duration:5e3,icon:e.jsx($,{color:"white",className:"h-4 w-4 rounded-full bg-[#dc2626]"}),action:{label:"Log out",onClick:async()=>await n()},actionButtonStyle:{backgroundColor:"white",color:"black",border:"1px solid black",borderRadius:"6px",cursor:"pointer"}}):a({title:"Oops! An error occurred.",description:R,variant:"destructive"})}}return e.jsxs(te,{open:i,onOpenChange:Y=>c(Y),children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx(T,{htmlFor:"email",children:"Email"}),e.jsx("p",{id:"email",className:`mt-2 text-sm ${i?"hidden":""}`,children:r})]}),e.jsx(ue,{children:e.jsx("span",{className:"text-sm font-medium underline",children:i?"Cancel":"Edit"})})]}),e.jsxs(xe,{children:[e.jsx("span",{className:"text-sm",children:"Use an email address you’ll always have access to."}),e.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[e.jsx("div",{className:"w-full",children:e.jsx(W,{autoComplete:"off",placeholder:"Email address",...p("email")})}),m.email&&e.jsx(y,{message:m.email.message}),l&&e.jsx(y,{message:l})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{onClick:()=>{g(""),u("email","")},className:"mt-3 w-max rounded-full bg-[#222222] text-xs font-semibold",children:"Clear"}),e.jsx(ms,{changeEmail:o,handleSubmit:f,isPending:t})]})]})]})}function ms({isPending:s,handleSubmit:n,changeEmail:a}){return e.jsxs(re,{children:[e.jsx(le,{type:"button",asChild:!0,children:e.jsx(d,{type:"button",className:"mt-3 w-max rounded-full bg-[#222222] text-xs font-semibold",children:"Save"})}),e.jsxs(ne,{className:"max-w-xl",children:[e.jsx(ie,{children:e.jsx(oe,{children:"Are you sure you want to change your email address?"})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(I,{className:"font-medium text-black",children:["Changing your email address will"," ",e.jsx("span",{className:"font-bold text-red-500 underline",children:"send a confirmation email"})," ","to the new address provided. Once you"," ",e.jsx("span",{className:"font-bold text-red-500 underline",children:"click the link"})," ","in the confirmation email, you will be able to sign in with your new email address."]}),e.jsxs(I,{className:"font-medium text-black",children:["Please"," ",e.jsx("span",{className:"font-bold text-red-500 underline",children:"ensure that the new email address is correct and valid."})," ","If an unverified or non-existing email address is provided, your account cannot be retrieved."]}),e.jsx(I,{className:"font-medium text-black",children:"Proceeding with an incorrect email address may result in account access issues."})]}),e.jsxs(ce,{children:[e.jsx(de,{className:"rounded-full",children:"Cancel"}),e.jsx("form",{onSubmit:n(a),children:e.jsx(Me,{type:"submit",className:"rounded-full bg-gray-950",children:s?e.jsx("l-dot-pulse",{size:"35",speed:"1.3",color:"white"}):"Continue"})})]})]})]})}const us=h.lazy(()=>se(()=>import("./CollapsiblePhoneNumber-70b5d417.js"),["assets/CollapsiblePhoneNumber-70b5d417.js","assets/index-75a621e8.js","assets/index-ae9ab110.css","assets/App-2eec01e5.js","assets/App-40b7b6bf.css"]));function xs(){var i,c;const s=v(),{id:n}=A(),a=s.getQueryData(["profile",n]);return e.jsxs(Oe,{children:[e.jsx(qe,{asChild:!0,children:e.jsx(d,{className:"mt-2 rounded-full bg-white text-sm font-semibold text-[#222222] shadow-md",variant:"outline",children:"Edit info"})}),e.jsxs(We,{className:"profile-sheet overflow-auto scrollbar-thin scrollbar-thumb-gray-200 scrollbar-thumb-rounded-full",side:"left",children:[e.jsxs(Ye,{children:[e.jsx(Be,{children:"Edit Personal info"}),e.jsx(Re,{children:"Make changes to your profile here. Click save when you're done."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsx(cs,{data:a}),e.jsx(U,{}),e.jsx(ds,{data:a}),e.jsx(U,{}),e.jsx(h.Suspense,{fallback:e.jsx("h1",{children:"Loading..."}),children:e.jsx(us,{data:a})}),!((i=a==null?void 0:a.data)!=null&&i.user.identityVerified)&&e.jsxs(e.Fragment,{children:[e.jsx(U,{}),e.jsx(d,{className:"bg-gray-950",children:e.jsx(me,{className:"w-full",to:`/users/identity-verification/${(c=a==null?void 0:a.data)==null?void 0:c.user.uid}`,children:"Verify your identity"})})]}),e.jsx(U,{})]}),e.jsx(Ge,{children:e.jsx(He,{asChild:!0,children:e.jsx(d,{className:"mt-4 rounded-full bg-gray-950",type:"submit",children:"Close"})})})]})]})}function hs(){const{id:s}=A(),n=v();return Qe({mutationFn:async a=>{try{a.emailVerified?Ke.patch("/api/users/current-user/verify-email",{...a}):await Ze(w.currentUser)}catch(i){const c=i,j=(c.code.split("/")[1].slice(0,1).toUpperCase()+c.code.split("/")[1].slice(1)).split("-").join(" ");J({title:"Oops! An error occurred.",description:j,variant:"destructive"})}},onSuccess:async(a,{emailVerified:i})=>{i?(L.success("Your email has been verified."),n.invalidateQueries({queryKey:["profile",s]})):L.success("Verification email has been sent",{description:"After verifying your email click the reload button."})},onError(a){J({title:"Oops! An error occurred.",description:a.response.data.error,variant:"destructive"})}})}Q.register();const fs=h.lazy(()=>se(()=>import("./Listings-fe2f4a6f.js"),["assets/Listings-fe2f4a6f.js","assets/index-75a621e8.js","assets/index-ae9ab110.css","assets/App-2eec01e5.js","assets/App-40b7b6bf.css"]));function js({profileData:s,recentListings:n}){var f,m,u;const a=v(),{mutate:i,isPending:c,isSuccess:j}=hs(),t=k(),[l,g]=h.useState(""),[r,p]=h.useState();return h.useEffect(()=>{var o;(o=w.currentUser)!=null&&o.emailVerified&&s.emailVerified===!1&&i({emailVerified:!0})},[i,s.emailVerified]),h.useEffect(()=>{var o;g(s==null?void 0:s.photoUrl),t.isSuccess&&a.invalidateQueries({queryKey:["profile",(o=w.currentUser)==null?void 0:o.uid]})},[s==null?void 0:s.photoUrl,a,t.isSuccess]),h.useEffect(()=>{if(r)return;const o=window.cloudinary.createUploadWidget({cloudName:"dop5kqpod",uploadPreset:"s6lymwwh",folder:"IGotYou-Avatars",resourceType:"image",clientAllowedFormats:["image"],cropping:!0,sources:["local","google_drive","unsplash"]},async(x,b)=>{b.event==="success"&&(await ae(w.currentUser,{photoURL:b.info.secure_url}),t.mutate({photoUrl:b.info.secure_url}),g(b.info.secure_url))});o&&p(o)},[r,t]),e.jsx(e.Fragment,{children:e.jsxs("section",{className:"mx-auto my-14 flex w-5/6 gap-16 max-lg:flex-col",children:[e.jsxs("div",{className:"flex h-max w-2/4 flex-col justify-between gap-4 max-lg:w-full",children:[e.jsxs(C,{className:"px-22 flex w-full flex-col items-center justify-center py-5 shadow-lg max-lg:w-full",children:[e.jsxs(F,{className:"relative p-4",children:[e.jsxs(V,{children:[e.jsx(E,{className:"cursor-zoom-in",children:e.jsxs(Je,{className:"h-[80px] w-[80px]",children:[e.jsx(Xe,{loading:"lazy",className:"max-h-full max-w-full object-cover transition-all hover:scale-105",src:((f=w.currentUser)==null?void 0:f.photoURL)??l??"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.slotcharter.net%2Fwp-content%2Fuploads%2F2020%2F02%2Fno-avatar.png&f=1&nofb=1&ipt=9e90fdb80f5dc7485d14a9754e5441d7fbcadb4db1a76173bf266e3acd9b3369&ipo=images",alt:`${s==null?void 0:s.username}'s avatar`}),e.jsx(De,{children:"CN"})]})}),e.jsx(P,{className:"max-h-96 max-w-sm overflow-hidden p-0",children:e.jsx("img",{className:"aspect-square object-cover",src:((m=w.currentUser)==null?void 0:m.photoURL)??l??"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.slotcharter.net%2Fwp-content%2Fuploads%2F2020%2F02%2Fno-avatar.png&f=1&nofb=1&ipt=9e90fdb80f5dc7485d14a9754e5441d7fbcadb4db1a76173bf266e3acd9b3369&ipo=images",alt:`${s==null?void 0:s.username}'s avatar`})})]}),e.jsx(d,{onClick:()=>r==null?void 0:r.open(),type:"button",className:"absolute bottom-2 right-2 z-10 mx-auto rounded-full border bg-zinc-600 px-[0.70rem] py-2 text-center text-zinc-200",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-4 w-4",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})})]}),e.jsxs(X,{className:"flex flex-col p-0",children:[e.jsx("span",{className:"text-2xl font-bold capitalize",children:(s==null?void 0:s.username)??e.jsx(D,{className:"h-4 w-[100px]"})}),e.jsx("span",{className:"text-sm font-bold text-gray-600",children:(s==null?void 0:s.userStatus)==="host"?"Host":"Guest"})]})]}),e.jsxs(C,{className:"w-full shadow-lg max-lg:w-full",children:[e.jsx(F,{children:e.jsx("span",{className:"text-xl font-semibold",children:s!=null&&s.username?(s==null?void 0:s.username)+"'s confirmed information":e.jsx(D,{className:"mx-auto h-4 w-[250px]"})})}),e.jsxs(z,{className:"flex flex-col gap-2",children:[s.identityVerified?e.jsxs("div",{className:"font-medium",children:[e.jsx(G,{color:"#FFF",width:22,height:22,className:"inline-block rounded-full bg-[#39c152]"})," ",e.jsx("span",{className:"ml-2 text-sm font-semibold text-gray-600",children:"Identity (verified)"})]}):e.jsxs("div",{className:"font-medium",children:[e.jsx($,{color:"#FFF",width:22,height:22,className:"inline-block rounded-full bg-[#e94242]"})," ",e.jsx("span",{className:"ml-2  text-sm font-semibold text-gray-600",children:"Identity (not verified)"})]}),s!=null&&s.emailVerified?e.jsxs("div",{className:"font-medium",children:[e.jsx(G,{color:"#FFF",width:22,height:22,className:"inline-block rounded-full bg-[#39c152]"})," ",e.jsx("span",{className:"ml-2 text-sm font-semibold text-gray-600",children:"Email address (verified)"})]}):e.jsxs("div",{className:"font-medium",children:[e.jsx($,{color:"#FFF",width:22,height:22,className:"inline-block rounded-full bg-[#e94242]"})," ",e.jsx("span",{className:"ml-2 text-sm font-semibold text-gray-600",children:"Email address (not verified)"})]}),s!=null&&s.mobileVerified?e.jsxs("div",{className:"font-medium",children:[e.jsx(G,{color:"#FFF",width:22,height:22,className:"inline-block rounded-full bg-[#39c152]"})," ",e.jsx("span",{className:"ml-2 text-sm font-semibold text-gray-600",children:"Mobile phone (verified)"})]}):e.jsxs("div",{className:"font-medium",children:[e.jsx($,{color:"#FFF",width:22,height:22,className:"inline-block rounded-full bg-[#e94242]"})," ",e.jsx("span",{className:"ml-2  text-sm font-semibold text-gray-600",children:"Mobile phone (not verified)"})]})]})]}),e.jsxs(C,{className:"w-full shadow-lg",children:[e.jsxs(F,{className:"px-6 pb-2 pt-6 text-gray-950",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-10 w-10",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5zm6-10.125a1.875 1.875 0 11-3.75 0 1.875 1.875 0 013.75 0zm1.294 6.336a6.721 6.721 0 01-3.17.789 6.721 6.721 0 01-3.168-.789 3.376 3.376 0 016.338 0z"})}),e.jsx("p",{className:"text-lg font-bold",children:s!=null&&s.emailVerified?"Personal info":"Verify your email to edit your personal info"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Provide personal details and how we can reach you"})]}),e.jsx(z,{children:s!=null&&s.emailVerified?e.jsx(xs,{}):j&&((u=w.currentUser)==null?void 0:u.emailVerified)==!1?e.jsx(d,{type:"button",className:"ml-2 mt-2 rounded-full  bg-gray-950 text-sm font-semibold",onClick:()=>document.location.reload(),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-5 w-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})})}):e.jsx(d,{onClick:async()=>{var o;return i({emailVerified:(o=w.currentUser)==null?void 0:o.emailVerified})},className:"mt-2 rounded-full  bg-gray-950 text-sm font-semibold",children:c?e.jsx("l-dot-pulse",{size:"30",speed:"1.3",color:"white"}):"Verify email"})})]})]}),e.jsxs("div",{className:"flex w-full flex-col gap-4",children:[e.jsxs(C,{className:"shadow-lg",children:[e.jsx(F,{className:"p-6",children:e.jsx(H,{className:"text-4xl font-semibold text-gray-950",children:"Your profile"})}),e.jsx("div",{className:"px-6 py-2",children:e.jsx("span",{className:"text-base font-semibold text-gray-600",children:"The information you share will be used across IGotYou to help other guests and hosts get to know you."})}),e.jsx(X,{className:"mt-2 text-[#3c3b3b]",children:e.jsx("div",{className:"grid w-full gap-2 md:grid-cols-1 lg:grid-cols-2 ",children:e.jsx(is,{})})})]}),(n==null?void 0:n.length)>0||s.listings.length>0?e.jsx(h.Suspense,{fallback:e.jsx(es,{}),children:e.jsx(fs,{recentListings:n,listingsCount:s.listings.length})}):s.emailVerified?e.jsx(e.Fragment,{children:e.jsxs(C,{className:"w-full shadow-lg",children:[e.jsx(F,{children:e.jsx(H,{className:"text-center text-lg font-semibold text-gray-600",children:"You have no listings to show"})}),e.jsx(z,{className:"mx-auto w-max",children:e.jsx(d,{className:"rounded-full bg-gray-950",children:e.jsx(me,{to:`/become-a-host/${w.currentUser&&w.currentUser.uid}`,children:"Create a listing"})})})]})}):e.jsx(e.Fragment,{children:e.jsxs(C,{className:"w-full shadow-lg",children:[e.jsx(F,{children:e.jsx(H,{className:"text-center text-lg font-semibold text-gray-600",children:"You have no listings to show"})}),e.jsx(z,{className:"mx-auto w-max",children:e.jsxs(re,{children:[e.jsx(le,{asChild:!0,children:e.jsx(d,{className:"rounded-full bg-gray-950",children:"Subscribe to create"})}),e.jsxs(ne,{children:[e.jsx(ie,{children:e.jsxs(oe,{className:"flex items-center gap-1 font-semibold",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"red",className:"h-7 w-7",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),"You're email is not verified yet."]})}),e.jsx(I,{className:"text-sm font-medium text-gray-600",children:"To create a listing, users are required to have a verified email. Attempting this action without a verified email is useless."}),e.jsx(ce,{children:e.jsx(de,{className:"rounded-full",children:"Close"})})]})]})})]})})]})]})})}const bs=Object.freeze(Object.defineProperty({__proto__:null,default:js},Symbol.toStringTag,{value:"Module"}));export{ue as C,bs as P,xe as a};
