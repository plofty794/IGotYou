import{u as v,j as m,k as e,af as fe,ag as je,Z as ge,I as pe,ah as be,l as $,O as Ne,m as we,M as Z,P as z,a3 as q,a4 as Y}from"./index-08751a26.js";import{a as k,u as A,D as P,a3 as I,m as M,n as U,o as L,B as u,q as _,av as ye,aw as ve,ax as ke,ay as y,az as S,aA as T,aB as O,$ as Ce,ac as W,K as Fe,O as Se,T as $e,aC as Ae,aD as ze,aE as Ve,aF as Ee,aG as Pe,aH as J,aI as X,aJ as D,aK as ee,aL as se,aM as te,aN as Ie,aO as Me,aP as Ue,aQ as Le,i as R,aR as ae,aS as re,j as w,aT as _e,S as V,L as le,al as Te,aU as Oe,a6 as We,C,d as F,af as qe,ag as Ye,ah as Be,g as H,aV as Q,f as E,h as B,aW as Re,am as Ge,an as He,ao as Qe,ap as Ke,aq as Ze,ar as Je,as as Xe,at as De}from"./App-9725fef7.js";function es(){var f,x,i,g,d,b;const s=v(),{mutate:r}=k(),[a,c]=m.useState(""),[o,h]=m.useState(),[t,n]=m.useState(""),{id:p}=A(),l=s.getQueryData(["profile",p]);m.useEffect(()=>{navigator.geolocation.getCurrentPosition(N=>h(N.coords))},[]);function j(N){if(N.preventDefault(),!a)return n("Invalid zip code (eg. 4010 for Pila, 4010 Laguna, Philippines)");r({address:a}),n("")}return e.jsxs(P,{children:[e.jsxs(I,{className:`w-full border font-medium hover:bg-[#e9e9e9] ${(f=l==null?void 0:l.data)!=null&&f.user.address?"text-xs":"text-sm"}
           flex items-center justify-start rounded py-8 pl-4 pr-6 shadow-md`,children:[e.jsx("span",{className:"mr-2",children:e.jsx(fe,{color:"black",width:25,height:25})}),e.jsx("p",{className:"text-gray-600",children:(x=l==null?void 0:l.data)!=null&&x.user.address?`Where I live: ${(i=l==null?void 0:l.data)==null?void 0:i.user.address}`:"Where I live"})]}),e.jsxs(M,{className:"p-8",children:[e.jsx(U,{children:e.jsx(L,{className:"text-xl text-[#222222]",children:(g=l==null?void 0:l.data)!=null&&g.user.address?"Current address":"Where do you live?"})}),(d=l==null?void 0:l.data)!=null&&d.user.address?e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"mb-2 text-sm font-medium",children:(b=l==null?void 0:l.data)==null?void 0:b.user.address}),e.jsx("div",{className:"flex items-center gap-2 pt-2",children:e.jsx(u,{onClick:()=>{c(""),r({address:""})},className:"rounded-full bg-[#222222] font-medium text-white",size:"lg",variant:"secondary",children:"Delete"})})]}):e.jsxs("form",{onSubmit:j,className:"mt-4",children:[e.jsx(_,{className:"text-sm font-medium",htmlFor:"address",children:"Your current address"}),e.jsxs(ye,{apiKey:ve,children:[e.jsx("div",{className:"geo mb-1",children:e.jsx(ke,{biasByProximity:{lat:(o==null?void 0:o.latitude)??0,lon:(o==null?void 0:o.longitude)??0},limit:5,filterByCountryCode:["ph"],allowNonVerifiedHouseNumber:!1,skipIcons:!0,addDetails:!0,allowNonVerifiedStreet:!1,postprocessHook:N=>(c(`${N.properties.formatted}, ${N.properties.country_code.toUpperCase()}`),N.properties.formatted)})}),t&&e.jsx(y,{message:t})]}),e.jsx("div",{className:"flex items-center gap-2 pt-2",children:e.jsx(u,{className:"rounded-full bg-[#222222] font-medium text-white",size:"lg",variant:"secondary",children:"Save"})})]})]})]})}const ss=S.object({funFact:S.string().min(1,{message:"This field is required"}).max(25,{message:"Just write a short fact about you at least 25 characters"})});function ts(){var p,l,j,f,x,i;const{formState:{errors:s},handleSubmit:r,register:a}=T({defaultValues:{funFact:""},resolver:O(ss)}),c=v(),{mutate:o}=k(),{id:h}=A(),t=c.getQueryData(["profile",h]);function n(g){o({funFact:g.funFact})}return e.jsxs(P,{children:[e.jsxs(I,{className:`hover:bg-[#e9e9e9] w-full border font-medium ${(p=t==null?void 0:t.data)!=null&&p.user.funFact?"text-xs":"text-sm"}
           shadow-md flex justify-start items-center pl-4 pr-6 py-8 rounded`,children:[e.jsx("span",{className:"mr-2",children:e.jsx(je,{color:"black",width:25,height:25})}),e.jsx("p",{className:"text-zinc-500",children:(l=t==null?void 0:t.data)!=null&&l.user.funFact?`Fun Fact about you: ${(j=t==null?void 0:t.data)==null?void 0:j.user.funFact}`:"My Fun Fact"})]}),e.jsxs(M,{className:"p-8",children:[e.jsx(U,{children:e.jsx(L,{className:"text-xl text-[#222222]",children:(f=t==null?void 0:t.data)!=null&&f.user.funFact?"Fun fact about you":"What's a fun fact about you?"})}),(x=t==null?void 0:t.data)!=null&&x.user.funFact?e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:(i=t==null?void 0:t.data)==null?void 0:i.user.funFact}),e.jsx("div",{className:"flex gap-2 items-center pt-2",children:e.jsx(u,{onClick:()=>o({funFact:""}),className:"bg-[#222222] text-white font-medium rounded-full",size:"lg",variant:"secondary",children:"Delete"})})]}):e.jsxs("form",{onSubmit:r(n),className:"mt-4",children:[e.jsx(Ce,{className:"text-sm font-medium",htmlFor:"funFact",children:"Your Fun Fact"}),e.jsx(W,{...a("funFact"),type:"text",id:"funFact",className:"mb-2"}),s.funFact&&e.jsx(y,{message:s.funFact.message}),e.jsx("div",{className:"flex gap-2 items-center pt-2",children:e.jsx(u,{className:"bg-[#222222] text-white font-medium rounded-full",size:"lg",variant:"secondary",children:"Save"})})]})]})]})}const K=["High School Diploma","Associate's Degree","Bachelor's Degree","Master's Degree","Doctorate","Professional License","No Formal Education"];function as(){var l,j,f,x,i,g;const[s,r]=m.useState(!1),[a,c]=m.useState(""),o=v(),{mutate:h}=k(),{id:t}=A(),n=o.getQueryData(["profile",t]);function p(d){d.preventDefault(),h({educationalAttainment:a})}return e.jsxs(P,{children:[e.jsxs(I,{className:`hover:bg-[#e9e9e9] border w-full font-medium ${(l=n==null?void 0:n.data)!=null&&l.user.educationalAttainment?"text-xs":"text-sm"}
           shadow-md flex justify-start items-center pl-4 pr-6 py-8 rounded`,children:[e.jsx("span",{className:"mr-2",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"black",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"})})}),e.jsx("p",{className:"text-gray-600 capitalize",children:(j=n==null?void 0:n.data)!=null&&j.user.educationalAttainment?`Educational attainment: ${(f=n==null?void 0:n.data)==null?void 0:f.user.educationalAttainment}`:"Educational attainment"})]}),e.jsxs(M,{className:"p-8 gap-2",children:[e.jsx(U,{children:e.jsx(L,{className:"text-lg font-semibold",children:(x=n==null?void 0:n.data)!=null&&x.user.educationalAttainment?"Your highest educational attainment":"What is your highest level of education completed?"})}),(i=n==null?void 0:n.data)!=null&&i.user.educationalAttainment?e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"text-sm font-semibold underline capitalize",children:(g=n==null?void 0:n.data)==null?void 0:g.user.educationalAttainment}),e.jsx("div",{className:"flex gap-2 items-center pt-2",children:e.jsx(u,{onClick:()=>{c(""),h({educationalAttainment:""})},className:"bg-gray-950 font-medium rounded-full",size:"lg",children:"Delete"})})]}):e.jsxs("form",{onSubmit:p,className:"flex flex-col",children:[e.jsxs(Fe,{open:s,onOpenChange:r,children:[e.jsx(Se,{asChild:!0,children:e.jsxs(u,{variant:"outline",role:"combobox","aria-expanded":s,className:"gap-2 font-medium w-3/4 mx-auto",children:[a?K.find(d=>d.toLowerCase()===a.toLowerCase()):"Select attainment",e.jsx(ge,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx($e,{className:"p-0",children:e.jsxs(Ae,{children:[e.jsx(ze,{placeholder:"Search attainment...",className:"h-9"}),e.jsx(Ve,{children:"No attainment found."}),e.jsx(Ee,{children:K.map(d=>e.jsxs(Pe,{value:d,onSelect:b=>{c(b.toLowerCase()===a.toLowerCase()?"":b),r(!1)},children:[d,e.jsx(pe,{className:` ml-auto h-4 w-4
                   ${a.toLowerCase()===d.toLowerCase()?"opacity-100":"opacity-0"}`})]},d))})]})})]}),e.jsx("div",{className:"flex gap-2 items-center pt-2",children:e.jsx(u,{disabled:!a,className:"bg-gray-950 font-medium rounded-full",size:"lg",children:"Save"})})]})]})]})}const rs=S.object({work:S.string().min(1,{message:"This field is required"}).max(20,{message:"Just write a short description about your work"})});function ls(){var p,l,j,f,x,i;const{formState:{errors:s},handleSubmit:r,register:a}=T({defaultValues:{work:""},resolver:O(rs)}),c=v(),{mutate:o}=k(),{id:h}=A(),t=c.getQueryData(["profile",h]);function n(g){o({work:g.work})}return e.jsxs(P,{children:[e.jsxs(I,{className:`hover:bg-[#e9e9e9] border w-full font-medium ${(p=t==null?void 0:t.data)!=null&&p.user.work?"text-xs":"text-sm"}
           shadow-md flex justify-start items-center pl-4 pr-6 py-8 rounded`,children:[e.jsx("span",{className:"mr-2",children:e.jsx(be,{color:"black",width:25,height:25})}),e.jsx("p",{className:"text-zinc-500",children:(l=t==null?void 0:t.data)!=null&&l.user.work?`My work: ${(j=t==null?void 0:t.data)==null?void 0:j.user.work}`:"My work"})]}),e.jsxs(M,{className:"p-8",children:[e.jsx(U,{children:e.jsx(L,{className:"text-xl text-[#222222]",children:(f=t==null?void 0:t.data)!=null&&f.user.work?"Your current work":"What's your work?"})}),(x=t==null?void 0:t.data)!=null&&x.user.work?e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:(i=t==null?void 0:t.data)==null?void 0:i.user.work}),e.jsx("div",{className:"flex gap-2 items-center pt-2",children:e.jsx(u,{onClick:()=>o({work:""}),className:"bg-[#222222] text-white font-medium rounded-full",size:"lg",variant:"secondary",children:"Delete"})})]}):e.jsxs("form",{onSubmit:r(n),className:"mt-4",children:[e.jsx(_,{className:"text-sm font-medium",htmlFor:"work",children:"Your work"}),e.jsx(W,{...a("work"),type:"text",id:"work",className:"mb-2"}),s.work&&e.jsx(y,{message:s.work.message}),e.jsx("div",{className:"flex gap-2 items-center pt-2",children:e.jsx(u,{className:"bg-[#222222] text-white font-medium rounded-full",size:"lg",variant:"secondary",children:"Save"})})]})]})]})}function ns(){return e.jsxs(e.Fragment,{children:[e.jsx(as,{}),e.jsx(ls,{}),e.jsx(es,{}),e.jsx(ts,{})]})}const is=Ie,os=Me,cs=ee,ne=({...s})=>e.jsx(J,{...s});ne.displayName=J.displayName;const ie=m.forwardRef(({className:s,...r},a)=>e.jsx(X,{className:$("fixed inset-0 z-50 bg-white/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 dark:bg-zinc-950/80",s),...r,ref:a}));ie.displayName=X.displayName;const ds=we("fixed z-50 gap-4 bg-white p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 dark:bg-zinc-950",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),oe=m.forwardRef(({side:s="right",className:r,children:a,...c},o)=>e.jsxs(ne,{children:[e.jsx(ie,{}),e.jsxs(D,{ref:o,className:$(ds({side:s}),r),...c,children:[a,e.jsxs(ee,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800",children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));oe.displayName=D.displayName;const ce=({className:s,...r})=>e.jsx("div",{className:$("flex flex-col space-y-2 text-center sm:text-left",s),...r});ce.displayName="SheetHeader";const de=({className:s,...r})=>e.jsx("div",{className:$("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...r});de.displayName="SheetFooter";const me=m.forwardRef(({className:s,...r},a)=>e.jsx(se,{ref:a,className:$("text-lg font-semibold text-zinc-950 dark:text-zinc-50",s),...r}));me.displayName=se.displayName;const ue=m.forwardRef(({className:s,...r},a)=>e.jsx(te,{ref:a,className:$("text-sm text-zinc-500 dark:text-zinc-400",s),...r}));ue.displayName=te.displayName;const xe=Ue,he=Le,ms=S.object({username:S.string().min(1,{message:"Invalid username"}).min(5,{message:"Username too short"}).max(15,{message:"Username must be at least 15 characters"})});R.register();function us({data:s}){var x,i;const[r,a]=m.useState(!1),{mutate:c,isPending:o}=k(),[h,t]=m.useState(""),{register:n,handleSubmit:p,formState:{errors:l},setValue:j}=T({defaultValues:{username:((x=s==null?void 0:s.data)==null?void 0:x.user.username)??""},resolver:O(ms)});async function f(g){var b;const{username:d}=g;if(d===((b=s==null?void 0:s.data)==null?void 0:b.user.username))return t("This is already your current username");await re(w.currentUser,{displayName:d}),c({username:d})}return e.jsxs(ae,{open:r,onOpenChange:g=>a(g),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx(_,{className:"font-semibold",htmlFor:"username",children:"Username"}),e.jsx("p",{id:"username",className:`mt-2 ${r?"hidden":""}`,children:(i=s==null?void 0:s.data)==null?void 0:i.user.username})]}),e.jsx(xe,{children:e.jsx("span",{className:"underline font-medium text-sm",children:r?"Cancel":"Edit"})})]}),e.jsx("form",{onSubmit:p(f),children:e.jsxs(he,{children:[e.jsx("span",{className:"text-sm",children:"This is the name on your IGotYou account."}),e.jsx("div",{className:"mt-4 flex gap-2",children:e.jsxs("div",{className:"w-full flex flex-col gap-1",children:[e.jsx(W,{...n("username"),autoFocus:!0}),l.username&&e.jsx(y,{message:l.username.message}),h&&e.jsx(y,{message:h})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{onClick:()=>{t(""),j("username","")},className:"text-xs mt-3 w-max font-semibold bg-[#222222] rounded-full",children:"Clear"}),e.jsx(u,{className:"text-xs mt-3 w-max font-semibold bg-[#222222] rounded-full",children:o?e.jsx("l-dot-pulse",{size:"35",speed:"1.3",color:"white"}):"Save"})]})]})})]})}R.register();function xs({data:s}){var i,g,d;const[r,a]=m.useState(!1),{mutate:c,isPending:o}=k(),[h,t]=m.useState(""),n=((i=s==null?void 0:s.data)==null?void 0:i.user.email)&&((g=s==null?void 0:s.data)==null?void 0:g.user.email.replace(/^(\w)+/,`${s.data.user.email[0]}***`)),{register:p,handleSubmit:l,formState:{errors:j},setValue:f}=T({defaultValues:{email:(d=s==null?void 0:s.data)==null?void 0:d.user.email},resolver:O(_e)});async function x(b){var G;const{email:N}=b;if(N===((G=s==null?void 0:s.data)==null?void 0:G.user.email))return t("This is already your current email address");c({email:N,emailVerified:!1})}return e.jsxs(ae,{open:r,onOpenChange:b=>a(b),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx(_,{htmlFor:"email",children:"Email"}),e.jsx("p",{id:"email",className:`text-sm mt-2 ${r?"hidden":""}`,children:n})]}),e.jsx(xe,{children:e.jsx("span",{className:"underline font-medium text-sm",children:r?"Cancel":"Edit"})})]}),e.jsx(he,{children:e.jsxs("form",{onSubmit:l(x),children:[e.jsx("span",{className:"text-sm",children:"Use an email address you’ll always have access to."}),e.jsxs("div",{className:"mt-4 flex flex-col gap-2",children:[e.jsx("div",{className:"w-full",children:e.jsx(W,{placeholder:"Email address",...p("email")})}),j.email&&e.jsx(y,{message:j.email.message}),h&&e.jsx(y,{message:h})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{onClick:()=>{t(""),f("email","")},className:"text-xs mt-3 w-max font-semibold bg-[#222222] rounded-full",children:"Clear"}),e.jsx(u,{className:"text-xs mt-3 w-max font-semibold bg-[#222222] rounded-full",children:o?e.jsx("l-dot-pulse",{size:"35",speed:"1.3",color:"white"}):"Save"})]})]})})]})}const hs=m.lazy(()=>Z(()=>import("./CollapsiblePhoneNumber-c70ff2b2.js"),["assets/CollapsiblePhoneNumber-c70ff2b2.js","assets/index-08751a26.js","assets/index-a3ca3981.css","assets/App-9725fef7.js","assets/App-40b7b6bf.css"]));function fs(){var c,o;const s=v(),{id:r}=A(),a=s.getQueryData(["profile",r]);return e.jsxs(is,{children:[e.jsx(os,{asChild:!0,children:e.jsx(u,{className:"mt-2 font-semibold rounded-full text-sm bg-white text-[#222222] shadow-md",variant:"outline",children:"Edit info"})}),e.jsxs(oe,{className:"profile-sheet overflow-auto scrollbar-thin scrollbar-thumb-rounded-full scrollbar-thumb-gray-200",side:"left",children:[e.jsxs(ce,{children:[e.jsx(me,{children:"Edit Personal info"}),e.jsx(ue,{children:"Make changes to your profile here. Click save when you're done."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsx(us,{data:a}),e.jsx(V,{}),e.jsx(xs,{data:a}),e.jsx(V,{}),e.jsx(m.Suspense,{fallback:e.jsx("h1",{children:"Loading..."}),children:e.jsx(hs,{data:a})}),!((c=a==null?void 0:a.data)!=null&&c.user.identityVerified)&&e.jsxs(e.Fragment,{children:[e.jsx(V,{}),e.jsx(u,{className:"bg-gray-950",children:e.jsx(le,{className:"w-full",to:`/users/identity-verification/${(o=a==null?void 0:a.data)==null?void 0:o.user.uid}`,reloadDocument:!0,children:"Verify your identity"})})]}),e.jsx(V,{})]}),e.jsx(de,{children:e.jsx(cs,{asChild:!0,children:e.jsx(u,{className:"bg-gray-950 mt-4 rounded-full",type:"submit",children:"Close"})})})]})]})}function js(){const{id:s}=A(),r=v();return Te({mutationFn:async a=>{try{a.emailVerified?We.patch("/api/users/current-user/verify-email",{...a}):await Oe(w.currentUser)}catch(c){const o=c,h=(o.code.split("/")[1].slice(0,1).toUpperCase()+o.code.split("/")[1].slice(1)).split("-").join(" ");z({title:"Oops! An error occurred.",description:h,variant:"destructive"})}},onSuccess:async(a,{emailVerified:c})=>{c?(z({title:"Success! 🎉",description:"Your email has been verified.",className:"bg-[#FFF]"}),r.invalidateQueries({queryKey:["profile",s]})):z({title:"Verification email has been sent",description:"After verifying your email click the reload button.",className:"bg-[#FFF] "})},onError(a){z({title:"Oops! An error occurred.",description:a.response.data.error,variant:"destructive"})}})}R.register();const gs=m.lazy(()=>Z(()=>import("./Listings-bf4adf76.js"),["assets/Listings-bf4adf76.js","assets/index-08751a26.js","assets/index-a3ca3981.css","assets/App-9725fef7.js","assets/App-40b7b6bf.css"]));function ps({profileData:s,recentListings:r}){var f,x;const a=v(),{mutate:c,isPending:o,isSuccess:h}=js(),t=k(),[n,p]=m.useState(""),[l,j]=m.useState();return m.useEffect(()=>{var i;(i=w.currentUser)!=null&&i.emailVerified&&s.emailVerified===!1&&c({emailVerified:!0})},[c,s.emailVerified]),m.useEffect(()=>{var i;p(s==null?void 0:s.photoUrl),t.isSuccess&&a.invalidateQueries({queryKey:["profile",(i=w.currentUser)==null?void 0:i.uid]})},[s==null?void 0:s.photoUrl,a,t.isSuccess]),m.useEffect(()=>{if(l)return;const i=window.cloudinary.createUploadWidget({cloudName:"dop5kqpod",uploadPreset:"s6lymwwh",folder:"IGotYou-Avatars",resourceType:"image",cropping:!0},async(g,d)=>{d.event==="success"&&(t.mutate({photoUrl:d.info.secure_url}),p(d.info.secure_url),re(w.currentUser,{photoURL:d.info.secure_url}))});i&&j(i)},[l,t]),e.jsx(e.Fragment,{children:e.jsxs("section",{className:"mx-auto my-14 flex w-5/6 gap-16 max-lg:flex-col",children:[e.jsxs("div",{className:"flex h-max w-2/4 flex-col justify-between gap-4 max-lg:w-full",children:[e.jsxs(C,{className:"px-22 flex w-full flex-col items-center justify-center py-5 shadow-lg max-lg:w-full",children:[e.jsxs(F,{className:"relative p-4",children:[e.jsxs(qe,{className:"h-[80px] w-[80px]",children:[e.jsx(Ye,{loading:"lazy",className:"max-h-full max-w-full object-cover transition-all hover:scale-105",src:((f=w.currentUser)==null?void 0:f.photoURL)??n??"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fwww.slotcharter.net%2Fwp-content%2Fuploads%2F2020%2F02%2Fno-avatar.png&f=1&nofb=1&ipt=9e90fdb80f5dc7485d14a9754e5441d7fbcadb4db1a76173bf266e3acd9b3369&ipo=images",alt:`${s==null?void 0:s.username}'s avatar`}),e.jsx(Be,{children:"CN"})]}),e.jsx(u,{onClick:()=>l==null?void 0:l.open(),type:"button",className:"absolute bottom-2 right-2 z-10 mx-auto rounded-full border bg-zinc-600 px-[0.70rem] py-2 text-center text-zinc-200",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-4 w-4",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]})})]}),e.jsxs(H,{className:"flex flex-col p-0",children:[e.jsx("span",{className:"text-2xl font-bold",children:(s==null?void 0:s.username)??e.jsx(Q,{className:"h-4 w-[100px]"})}),e.jsx("span",{className:"text-sm font-bold text-gray-600",children:(s==null?void 0:s.userStatus)==="host"?"Host":"Guest"})]})]}),e.jsxs(C,{className:"w-full shadow-lg max-lg:w-full",children:[e.jsx(F,{children:e.jsx("span",{className:"text-xl font-semibold",children:s!=null&&s.username?(s==null?void 0:s.username)+"'s confirmed information":e.jsx(Q,{className:"mx-auto h-4 w-[250px]"})})}),e.jsxs(E,{className:"flex flex-col gap-2",children:[s.identityVerified?e.jsxs("div",{className:"font-medium",children:[e.jsx(q,{color:"#FFF",width:22,height:22,className:"inline-block rounded-full bg-[#39c152]"})," ",e.jsx("span",{className:"ml-2 text-sm font-semibold text-gray-600",children:"Identity (verified)"})]}):e.jsxs("div",{className:"font-medium",children:[e.jsx(Y,{color:"#FFF",width:22,height:22,className:"inline-block rounded-full bg-[#e94242]"})," ",e.jsx("span",{className:"ml-2  text-sm font-semibold text-gray-600",children:"Identity (not verified)"})]}),s!=null&&s.emailVerified?e.jsxs("div",{className:"font-medium",children:[e.jsx(q,{color:"#FFF",width:22,height:22,className:"inline-block rounded-full bg-[#39c152]"})," ",e.jsx("span",{className:"ml-2 text-sm font-semibold text-gray-600",children:"Email address (verified)"})]}):e.jsxs("div",{className:"font-medium",children:[e.jsx(Y,{color:"#FFF",width:22,height:22,className:"inline-block rounded-full bg-[#e94242]"})," ",e.jsx("span",{className:"ml-2 text-sm font-semibold text-gray-600",children:"Email address (not verified)"})]}),s!=null&&s.mobileVerified?e.jsxs("div",{className:"font-medium",children:[e.jsx(q,{color:"#FFF",width:22,height:22,className:"inline-block rounded-full bg-[#39c152]"})," ",e.jsx("span",{className:"ml-2 text-sm font-semibold text-gray-600",children:"Mobile phone (verified)"})]}):e.jsxs("div",{className:"font-medium",children:[e.jsx(Y,{color:"#FFF",width:22,height:22,className:"inline-block rounded-full bg-[#e94242]"})," ",e.jsx("span",{className:"ml-2  text-sm font-semibold text-gray-600",children:"Mobile phone (not verified)"})]})]})]}),e.jsxs(C,{className:"w-full shadow-lg",children:[e.jsxs(F,{className:"px-6 pb-2 pt-6 text-gray-950",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-10 w-10",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5zm6-10.125a1.875 1.875 0 11-3.75 0 1.875 1.875 0 013.75 0zm1.294 6.336a6.721 6.721 0 01-3.17.789 6.721 6.721 0 01-3.168-.789 3.376 3.376 0 016.338 0z"})}),e.jsx("p",{className:"text-lg font-bold",children:s!=null&&s.emailVerified?"Personal info":"Verify your email to edit your personal info"}),e.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Provide personal details and how we can reach you"})]}),e.jsx(E,{children:s!=null&&s.emailVerified?e.jsx(fs,{}):h&&((x=w.currentUser)==null?void 0:x.emailVerified)==!1?e.jsx(u,{type:"button",className:"ml-2 mt-2 rounded-full  bg-gray-950 text-sm font-semibold",onClick:()=>document.location.reload(),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-5 w-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})})}):e.jsx(u,{onClick:async()=>{var i;return c({emailVerified:(i=w.currentUser)==null?void 0:i.emailVerified})},className:"mt-2 rounded-full  bg-gray-950 text-sm font-semibold",children:o?e.jsx("l-dot-pulse",{size:"30",speed:"1.3",color:"white"}):"Verify email"})})]})]}),e.jsxs("div",{className:"flex w-full flex-col gap-4",children:[e.jsxs(C,{className:"shadow-lg",children:[e.jsx(F,{className:"p-6",children:e.jsx(B,{className:"text-4xl font-semibold text-gray-950",children:"Your profile"})}),e.jsx("div",{className:"px-6 py-2",children:e.jsx("span",{className:"text-base font-semibold text-gray-600",children:"The information you share will be used across IGotYou to help other guests and hosts get to know you."})}),e.jsx(H,{className:"mt-2 text-[#3c3b3b]",children:e.jsx("div",{className:"grid w-full gap-2 md:grid-cols-1 lg:grid-cols-2 ",children:e.jsx(ns,{})})})]}),(r==null?void 0:r.length)>0||s.listings.length>0?e.jsx(m.Suspense,{fallback:e.jsx(Re,{}),children:e.jsx(gs,{recentListings:r,listingsCount:s.listings.length})}):s.emailVerified?e.jsx(e.Fragment,{children:e.jsxs(C,{className:"w-full shadow-lg",children:[e.jsx(F,{children:e.jsx(B,{className:"text-center text-lg font-semibold text-gray-600",children:"You have no listings to show"})}),e.jsx(E,{className:"mx-auto w-max",children:e.jsx(u,{className:"rounded-full bg-gray-950",children:e.jsx(le,{to:`/become-a-host/${w.currentUser&&w.currentUser.uid}`,children:"Create a listing"})})})]})}):e.jsx(e.Fragment,{children:e.jsxs(C,{className:"w-full shadow-lg",children:[e.jsx(F,{children:e.jsx(B,{className:"text-center text-lg font-semibold text-gray-600",children:"You have no listings to show"})}),e.jsx(E,{className:"mx-auto w-max",children:e.jsxs(Ge,{children:[e.jsx(He,{asChild:!0,children:e.jsx(u,{className:"rounded-full bg-gray-950",children:"Subscribe to create"})}),e.jsxs(Qe,{children:[e.jsx(Ke,{children:e.jsxs(Ze,{className:"flex items-center gap-1 font-semibold",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"red",className:"h-7 w-7",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),"You're email is not verified yet."]})}),e.jsx(Je,{className:"text-sm font-medium text-gray-600",children:"To create a listing, users are required to have a verified email. Attempting this action without a verified email is useless."}),e.jsx(Xe,{children:e.jsx(De,{className:"rounded-full",children:"Close"})})]})]})})]})})]})]})})}const ws=Object.freeze(Object.defineProperty({__proto__:null,default:ps},Symbol.toStringTag,{value:"Module"}));export{xe as C,ws as P,he as a};
